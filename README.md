### Задание№1

Выполните базовую настройку всех устройств:

1.Соберите топологию согласно рисунку. Все устройства работают на OC Linux - Debian 

2.Присвоить имена в соответствии с топологией

3.Расчитайте IP-адресацию IPv4 и IPv6. Необходимо заполнить таблицу №1. При необходимости отредактируйте таблицу.

4.Пул адресов для сети офиса BRANCH - не более 16. Для IPv6 пропустите этот пункт.

5.Пул адресов для сети офиса HQ - не более 64. Для IPv6 пропустите этот пункт.

|Имя устройства| Интерфейс | IPv4        | Маска/ Префикс|  Шлюз       |
|--------------|-----------|-------------|---------------|-------------|
| ISP          | ens192    |10.10.201.100| /24           |10.10.201.254|
|              | ens256    |192.168.0.165| /30           |             |
|              | ens224    |192.168.0.161| /30           |             |
| HQ-R         | ens192    |192.168.0.1  | /25           |             |
|              | ens224    |192.168.0.166| /30           |192.168.0.165|
| BR-R         | ens192    |192.168.0.129| /26           |             |
|              | ens224    |192.168.0.162| /30           |192.168.0.161|
| HQ-SRV       | ens192    |192.168.0.20 | /25           |192.168.0.1  |
| BR-SRV       | ens192    |192.168.0.140| /26           |192.168.0.129|

## Топология

![Топология](https://github.com/Julia666666666666666666/demo2024/assets/148867585/7f095d4d-d449-452e-b0cb-788244b164d0)

Выполнение задания 
--------------------------------------------------------------------------
Создала 4-vlana и 4-net (HQ-SRV-2, BR-SRV-4, HQ-R-2-1,  BR-R-4-3, ISP-1-3)

1-Сначала нужно прописать команду: ip a (нужна чтобы знать интерфейсы );

2-Далее с помощью команды: nano /etc/network/interfaces (заходим на файл этих интерфейсов);

3-Изменяю адреса согласно топологии и табл.адресов:

![image](https://github.com/Julia666666666666666666/demo2024/assets/148867585/2e42dc5c-c44a-465f-af01-a147c5010d56)


4-Сохраняю конфигурацию: Ctrl+s;

5-Выхожу из файла: Ctrl+x;

6-Также нужно перезагрузить сетевой интерфейс: systemctl restart networking;

7-Проверяем адреса с помощью команды: ip a.

## Настройка NAT

На ISP прописываем команды: apt install iptables

После заходим в конф.файл: nano /etc/sysctl.conf

После пишем: #net.ipv4.ip_forward=1

Проверяем: sysctl -p

Далее пишем команду: ip tables -A POSTROUTING -t nat MASQUER

После создаем файл для автоматического запуска после перезагрузки: nano /etc/network/if-pre-up.d/nat

В файл пишем:

#!/bin/sh

/sbin/iptables -A POSTROUTING -t nat -j

.

В конце задаем права для файла: chmod +x /etc/network/if-pre-up.d/nat

Повторяем все действия на BR-R & HQ-R





